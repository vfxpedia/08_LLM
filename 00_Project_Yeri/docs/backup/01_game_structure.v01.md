# 01\_Game\_Structure.md

## 1. 개요

이 문서는 ‘예리는 못 말려’ 프로젝트의 1단계 설계 문서로, 게임의 전체 구조, 오프닝 연출, 이미지 표시 방식, 타임라인, 표정 변화, 시도 횟수 로직을 포함한다. 본 버전은 100점 만점 기반의 3턴 구조 및 EEVE + VectorDB 기반 감정 분석 시스템을 반영한다.

---

## 2. 게임 전체 구조

이 섹션은 최신 점수 시스템(100점 만점, 감정 센스 60%)과 일관성을 유지하도록 조정되었으며, EEVE + VectorDB 기반의 감정 분석 구조를 반영한다.

### 2.1 코어 루프 개요

1. 예리 등장 (TTS + 효과음)
2. Before/After 이미지 표시
3. 카운트다운 (턴별 시간)
4. 플레이어 입력 (텍스트 또는 음성)
5. EEVE LLM 감정 분석 + VectorDB 센스 판정
6. 점수 계산 (공감력 + 눈썰미 + 순발력 = 100점 만점)
7. 결과 피드백 및 엔딩 + SNS 공유

### 2.2 주요 시스템 요소

| 요소     | 설명                                                       |
| ------ | -------------------------------------------------------- |
| 이미지 표시 | 카드 뒤집기 또는 좌우 비교 방식으로 표시 (최종 결정: 사용자 테스트 후 확정).           |
| TTS 대사 | “오빠\~ 나 뭐 달라진 거 없어?”로 시작하며, 감정 상태에 따라 톤 조절.              |
| 타임라인   | 턴별 시간: 1턴 3초 / 2턴 10초 / 3턴 30초. Progress Bar 감소 시 표정 변화. |
| 입력 방식  | 텍스트 / 음성(STT 기반) 중 선택 가능.                                |
| 감정 엔진  | EEVE LLM + VectorDB 결합. 감정/공감/센스 분석 및 반응 생성.             |
| 점수 시스템 | 공감력(60점) + 눈썰미(25점) + 순발력(15점) = 100점 만점 구조.             |

---

## 3. 오프닝 연출

### 3.1 시나리오 예시

1. 화면 전환 효과(샤라랄라 사운드 + 카드 뒤집기 애니메이션)
2. 예리 등장 (Before 상태)
3. 예리 TTS: “오빠\~ 나 잠깐 준비하고 올게\~”
4. After 이미지 등장
5. 예리 TTS: “오빠\~ 나 뭐 달라진 거 없어? 셋 안에 말한다\~ 3, 2, 1!”

### 3.2 사운드 및 연출 요소

| 요소    | 설명                                             |
| ----- | ---------------------------------------------- |
| 효과음   | 카드 전환, 카운트다운, 예리 등장 사운드 등.                     |
| BGM   | 로맨틱·장난스러운 테마. 턴 진행 시 긴장감 상승형 BGM 전환.           |
| 표정 변화 | 턴별 시간 경과에 따라 예리의 표정이 ‘기대 → 초조 → 실망 → 웃음’으로 변화. |

---

## 4. 타임라인 구조 (3턴 구성, 총 43초)

이 섹션은 기존 단일 10초 타임라인을 수정하여 3턴(3초 + 10초 + 30초 = 총 43초) 구조로 조정되었다. 각 턴별로 예리의 감정 변화(기대 → 초조 → 실망 → 웃음)가 반영되며, 시간 흐름에 따라 표정과 대사가 동적으로 변한다.

### 4.1 턴별 진행 흐름 및 가중치

| 턴  | 제한 시간 | 목적       | 예리의 상태 | 예시 대사                       |  턴 비중  |
| -- | ----- | -------- | ------ | --------------------------- | ---- |
| 1턴 | 3초    | 장난/몰입 유도 | 장난기 가득 | “오빠 오빠! 3초 안에 맞춰봐\~\~잉!”    |  10%  |
| 2턴 | 10초   | 본격 퀴즈    | 살짝 초조  | “오빠, 눈썰미 이게 다야? 나 실망할껀데\~”  |  30%  |
| 3턴 | 30초   | 마지막 기회   | 감정 진지  | “진짜 마지막 기회야… 나 이제 삐질지도 몰라?” |  60%  |

### 4.2 타임라인 연출

- 각 턴마다 Progress Bar와 표정 연동.
- 1턴: 예리 웃음 + 빠른 효과음.
- 2턴: 긴장감 있는 표정 + 템포 업.
- 3턴: 서정적 표정 + 하이라이트 사운드.

---

## 5. 시도 횟수 및 점수 계산

이 섹션은 3턴 구조(1턴 3초, 2턴 10초, 3턴 30초)를 완전히 반영하며, 각 턴마다 예리의 TTS 피드백이 삽입되어 EEVE 감정 상호작용 흐름과 일관성을 유지한다.

### 5.1 시도 제한

- 총 3턴 진행 (3초 / 10초 / 30초).
- 각 턴 후 EEVE의 중간 피드백(TTS) 삽입.
- 점수는 3턴 전체 중 가장 높은 성과(센스/관찰력/속도) 기준으로 계산.

### 5.2 점수 공식 (100점 만점)

```
최종 점수 = 공감력(0~60) + 눈썰미(0~25) + 순발력(0~15)
```

- 공감력: EEVE + VectorDB 감정 분석 점수.
- 눈썰미: 이미지 변화 인식률.
- 순발력: 반응 시간에 따른 보너스.

---

## 6. 엔딩 및 피드백 구조

이 섹션은 100점 스케일에 맞춰 점수 구간을 확장하였다.

| 점수 범위    | 엔딩        | 예리 반응                      |
| -------- | --------- | -------------------------- |
| 80\~100점 | 사랑꾼 엔딩    | “오빠 너무 좋아\~ 우리 라면 먹으러 갈래?” |
| 50\~79점  | 귀엽게 삐진 엔딩 | “오늘은 봐줄게\~ 다음엔 더 잘 봐야 돼?”  |
| 1\~49점   | 이별 엔딩     | “우리 이제 그만하자… 나 속상해…”       |

| 점수 범위    | 엔딩        | 예리 반응                      |
| -------- | --------- | -------------------------- |
| 80\~100점 | 사랑꾼 엔딩    | “오빠 너무 좋아\~ 우리 라면 먹으러 갈래?” |
| 50\~79점  | 귀엽게 삐진 엔딩 | “오늘은 봐줄게\~ 다음엔 더 잘 봐야 돼?”  |
| 1\~49점   | 이별 엔딩     | “우리 이제 그만하자… 나 속상해…”       |

### 6.2 SNS 공유 구조

- 결과 카드 자동 생성.
- 표시 항목: 닉네임, 연령대, 점수, 대표 대사.
- 예시 문구: “공감력 + 눈썰미 95점! 예리 감동 중💗.”

---

## 7. 다음 단계

- **02_score_system_detail.md**: 점수 계산 및 상태 관리 통합. (05\_Gameplay\_Mechanics 역할을 포함하도록 통합됨.)
- **03\_Character\_Design.md**: 예리의 표정/대사/감정 톤 구체화 및 02\_Score\_System\_Detail.md와의 연동을 강화
- 감정 분석과 표정 변화 로직이 일관되게 작동하도록 조정.
- **04\_LLM\_Prompt\_Design.md**: 감정·센스 분석 프롬프트 설계 및 EEVE 평가 데이터셋 구성.
- **04_UI\_UX\_Design.md**: Progress Bar·카드 애니메이션·표정 전환 UI 정의.

